{{define "content"}}

{{template "formHeader" "Create blog post for"}}

<div><form method=POST onsubmit="return getBlogData(event)">

	{{ $f := .Form.FieldMap }}
	{{ template "field" $f.title -}}
	<p>
	<div id="editor-container" style="height:200px;"></div>
	{{ template "field" $f.blogVal -}}
	<div id="new-comment-html">new-comment-html</div>
	<p>
	<p id="thumbnailLabel" style="margin-top: 1rem; display: none;">Choose Thumbnail:</p>
	<div style="overflow: visible; width: 100%;">
		<div id="image_container"></div>
	</div>
	<p>
	<div>
		<input type="submit" class="nuBtn btn btn-vote center">
			Create Blog Post
		</input>
	</div>
	<br>
</form></div>

<!--<br>
<input type=button name="Add comment" value="Add comment"></input>
-->

<script>
var quill;

// Here's a bunch of code to support rich text via the Quill editor library.
$(document).ready(function() {
	quill = new Quill('#editor-container', {
		modules: {
			toolbar: [
				[{ header: [1, 2, false] }],
				['bold', 'italic', 'underline'],
				//['image', 'code-block']
				['code-block']
			]
		},
		placeholder: 'Create a blog post...',
		theme: 'snow'  // or 'bubble'
	});

	var $editor = $('#editor-container');
});

function getBlogData(e) {
	//e.preventDefault();

	console.log(quill.getContents());

	console.log(quill.root.innerHTML);

	$('input[name="blogVal"]').val(quill.root.innerHTML);

	alert(quill.root.innerHTML);

	return true;
}

</script>

{{end}}

